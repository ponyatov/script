% e-book
\documentclass[oneside,12pt]{book}
%% screen paper layout (A5 landscape)
\usepackage[paperwidth=210mm,paperheight=148mm,margin=5mm]{geometry}
%% hypertext pdf
\usepackage[unicode,
	colorlinks=false,
	allbordercolors={0 0 0},
	pdfborderstyle={/S/U/W 1}]{hyperref}
%% graphics
\usepackage[pdftex]{graphicx}
%% hyperlinks
\newcommand{\email}[1]{$<$\href{#1}{#1}$>$}
%% index
\usepackage{makeidx}\makeindex

% Cyrillization
\usepackage[T1,T2A]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[english,russian]{babel}
%\usepackage{indentfirst}

% relative sectioning
\usepackage{ifthen}
\newcounter{secdepth}\setcounter{secdepth}{0}
\newcommand{\secup}{\addtocounter{secdepth}{1}}
\newcommand{\secdown}{\addtocounter{secdepth}{-1}}
\newcommand{\secly}[1]{\section*{#1}\addcontentsline{toc}{section}{#1}}
\newcommand{\secrel}[1]{
	\ifthenelse{\equal{\value{secdepth}}{0}}{\part{#1}}{}
	\ifthenelse{\equal{\value{secdepth}}{-1}}{\chapter{#1}}{}
	\ifthenelse{\equal{\value{secdepth}}{-2}}{\section{#1}}{}
	\ifthenelse{\equal{\value{secdepth}}{-3}}{\subsection{#1}}{}
	\ifthenelse{\equal{\value{secdepth}}{-4}}{\subsubsection{#1}}{}
}

% listings
\usepackage{verbatim}
\usepackage{listings}
\lstset{
basicstyle=\small,	% small text size
frame=single, % show frames around
numbers=left,numberstyle=\small,numbersep=1mm, % line numbering
tabsize=4, % tab style
keywordstyle=\textbf,
commentstyle=\textit,
showspaces=false
}
\newcommand{\lstx}[2]{\lstinputlisting[title=#1]{#2}}
\newcommand{\lst }[3]{\lstinputlisting[title=#1,language=#3]{#2}}

%misc
\renewcommand{\emph}[1]{\textbf{#1}}
\newcommand{\note}[1]{\footnote{\ #1}}
\newcommand{\term}[1]{\textit{#1}}
\newcommand{\termdef}[2]{\textit{#1}\index{#2}}
\newcommand{\xref}[2]{#1\ref{#2}\ }
\newcommand{\prog}[1]{\textbf{#1}}
\newcommand{\file}[1]{\textbf{#1}}

